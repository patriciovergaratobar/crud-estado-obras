
<mat-toolbar color="primary">Estados de Obras</mat-toolbar>

<mat-card>

    <mat-card-title class="element-center">
        Editar Estados de Obras
  </mat-card-title>  
   
    <mat-card-content>
        <mat-form-field class="mat-form-field-login">
            <input matInput placeholder="Titulo" [(ngModel)]="estado.titulo" required>
        </mat-form-field>
    </mat-card-content>

    <mat-card-content>
      <mat-form-field>
        <input matInput [matDatepicker]="picker" placeholder="Fecha Estado" [(ngModel)]="fechaSeleccionada">
        <mat-datepicker-toggle matSuffix [for]="picker"></mat-datepicker-toggle>
        <mat-datepicker #picker></mat-datepicker>
      </mat-form-field>

      
      <mat-form-field class="mat-form-field-login">
        <input matInput placeholder="Comentario" [(ngModel)]="estado.comentario" required>  
      </mat-form-field>
    </mat-card-content>

    <mat-card-content>
     
      <mat-form-field class="mat-form-field-login">
        <input matInput placeholder="Empresa" [(ngModel)]="nombreEmpresa" disabled>
      </mat-form-field>
      <mat-form-field class="mat-form-field-login">
        <input matInput placeholder="Proyecto" [(ngModel)]="proyectoSeleccionada" disabled>
      </mat-form-field>
    
    </mat-card-content>

    <mat-card-content>
        <mat-form-field class="mat-form-field-login">
            <input matInput placeholder="Obras" [(ngModel)]="estado.nombreObra" disabled>
        </mat-form-field>
    </mat-card-content>

    

    <mat-card-content>
            <button mat-raised-button color="primary" (click)="fileInput.click()">
                <mat-icon>photo</mat-icon>
              </button> {{ fileSeleccionado }}
              
     
        <mat-form-field class="mat-form-field-login">
            <input matInput placeholder="DescripciÃ³n" [(ngModel)]="descripcionFile" >  
        </mat-form-field>  
        
        <button mat-raised-button color="primary" (click)="uploadFoto()"><mat-icon>add</mat-icon></button>    
          
    </mat-card-content>

    <mat-list>
        <mat-divider></mat-divider>
      <mat-list-item *ngFor="let foto of fotos">
        <img width="30px" (click)="openViewImg(foto)" src='data:image/jpeg;base64,{{ foto.archivos }}' /> 
        {{ foto.comentario }} 
        <button mat-button matTooltip="Eliminar el dato" (click)="deleteFoto(foto)" >
        <mat-icon>delete_sweep</mat-icon></button> 
      </mat-list-item>


    </mat-list>
  
    
    <input hidden id="fileFoto" type="file" (change)="changeEvent($event)" #fileInput>


    <mat-card-actions>
      
      <button mat-raised-button color="primary" (click)="guardar()"><mat-icon>save</mat-icon>Guardar</button>  
      <button mat-raised-button color="accent" routerLink="/estadosadmin"><mat-icon>close</mat-icon>Cancelar</button>
    
    
    </mat-card-actions>
</mat-card>

